# OpenMetadata Environment Configuration
# Enhanced settings for MCP server stability

# Database Configuration (Enhanced for connection pooling)
DB_DRIVER_CLASS=com.mysql.cj.jdbc.Driver
DB_SCHEME=mysql
DB_PARAMS=allowPublicKeyRetrieval=true&useSSL=false&serverTimezone=UTC&autoReconnect=true&maxReconnects=10&initialTimeout=1&useConnectionPooling=true&cachePrepStmts=true&useServerPrepStmts=true&prepStmtCacheSize=250&prepStmtCacheSqlLimit=2048&useLocalSessionState=true&useLocalTransactionState=true&rewriteBatchedStatements=true&cacheResultSetMetadata=true&cacheServerConfiguration=true&elideSetAutoCommits=true&maintainTimeStats=false&socketTimeout=300000&connectTimeout=60000
DB_USER=openmetadata_user
DB_USER_PASSWORD=openmetadata_password
DB_HOST=mysql
DB_PORT=3306
OM_DATABASE=openmetadata_db

# MySQL Standard Environment Variables
MYSQL_ROOT_PASSWORD=openmetadata_password
MYSQL_DATABASE=openmetadata_db
MYSQL_USER=openmetadata_user
MYSQL_PASSWORD=openmetadata_password

# ElasticSearch Configuration (Enhanced timeouts)
ELASTICSEARCH_HOST=elasticsearch
ELASTICSEARCH_PORT=9200
ELASTICSEARCH_SCHEME=http
ELASTICSEARCH_CONNECTION_TIMEOUT_SECS=30
ELASTICSEARCH_SOCKET_TIMEOUT_SECS=300
ELASTICSEARCH_KEEP_ALIVE_TIMEOUT_SECS=1200
ELASTICSEARCH_BATCH_SIZE=100
ELASTICSEARCH_PAYLOAD_BYTES_SIZE=10485760

# Server Configuration
OPENMETADATA_CLUSTER_NAME=openmetadata
SERVER_PORT=8585
SERVER_ADMIN_PORT=8586
LOG_LEVEL=INFO

# Memory Configuration (Enhanced for better performance)
OPENMETADATA_HEAP_OPTS="-Xmx2G -Xms1G -XX:+UseG1GC -XX:MaxGCPauseMillis=200"

# Pipeline Service Configuration
PIPELINE_SERVICE_CLIENT_ENDPOINT=http://ingestion:8080
PIPELINE_SERVICE_CLIENT_HEALTH_CHECK_INTERVAL=300
SERVER_HOST_API_URL=http://openmetadata-server:8585/api
PIPELINE_SERVICE_CLIENT_ENABLED=true

# Authentication
AUTHENTICATION_PROVIDER=basic
AUTHENTICATION_ENABLE_SELF_SIGNUP=true

# JWT Configuration
JWT_ISSUER=open-metadata.org
JWT_KEY_ID=Gb389a-9f76-gdjs-a92j-0242bk94356

# Airflow Database Configuration
AIRFLOW_DB_HOST=mysql
AIRFLOW_DB_PORT=3306
AIRFLOW_DB=airflow_db
AIRFLOW_DB_SCHEME=mysql+mysqldb
AIRFLOW_DB_USER=airflow_user
AIRFLOW_DB_PASSWORD=airflow_pass

# =============================================================================
# CONNECTOR CREDENTIALS & SECRETS
# =============================================================================

# OpenMetadata JWT Token for Ingestion Bot
# This token is used by connectors to authenticate with OpenMetadata API
OPENMETADATA_JWT_TOKEN=eyJraWQiOiJHYjM4OWEtOWY3Ni1nZGpzLWE5MmotMDI0MmJrOTQzNTYiLCJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJvcGVuLW1ldGFkYXRhLm9yZyIsInN1YiI6ImluZ2VzdGlvbi1ib3QiLCJyb2xlcyI6WyJJbmdlc3Rpb25Cb3RSb2xlIl0sImVtYWlsIjoiaW5nZXN0aW9uLWJvdEBvcGVuLW1ldGFkYXRhLm9yZyIsImlzQm90Ijp0cnVlLCJ0b2tlblR5cGUiOiJCT1QiLCJpYXQiOjE3NTI3MzMzNzEsImV4cCI6bnVsbH0.i_o-6NxXlGow9pSZ9Codmk_S4QQhmSL-76Qa1aXoFplyj7gEv4XvwTfPe-sOKUpEIFUbI40GEutHAzWVk3c2frOlLbsrjhMPld6TgiLzcMT2uf6GH-FlMeeh3ZH7W6mC_R8gm_rXZ94xqmvAHUbJmneoT8-8qsgVe4_GAfDp7BPWr6ZJuLr8pyw9VeY6CjGZhpO0bhWxMylA-o7IWr9t2Us_qve9mzkgWHoeNT8QyRoRhD5_ERf8HePL6jZ0BRWv95-p7Mhm_-YEvC4qJVItswEGNX-5HjCaeYX5jzVHx_bkzcU8ykLn9LAgH5zzjT4iB9sk9K4O4CPzmhZDS7vm1g

# OpenMetadata Server Configuration
OPENMETADATA_SERVER_HOST_PORT=http://localhost:8585/api

# =============================================================================
# SNOWFLAKE CONFIGURATION
# =============================================================================

# Snowflake Connection Details
SNOWFLAKE_USERNAME=SVC_OPEN_METADATA_STAGING_USER
SNOWFLAKE_PASSWORD=
SNOWFLAKE_WAREHOUSE=PLATFORM_TEAM
SNOWFLAKE_ACCOUNT=NEWRELICORG-DATAOS.snowflakecomputing.com
SNOWFLAKE_DATABASE=CONFORMED_STAGING
SNOWFLAKE_ROLE=SVC_OPEN_METADATA_STAGING_ROLE

# Snowflake Connection Options
SNOWFLAKE_SCHEMA=PUBLIC
SNOWFLAKE_HOST_PORT=https://newrelicorg-dataos.snowflakecomputing.com
SNOWFLAKE_INCLUDE_TRANSIENT_TABLES=false
SNOWFLAKE_INCLUDE_STREAMS=false
SNOWFLAKE_CLIENT_SESSION_KEEP_ALIVE=false

# Snowflake Private Key (Base64 encoded for single line)
SNOWFLAKE_PRIVATE_KEY="-----BEGIN ENCRYPTED PRIVATE KEY-----\nMIIFJDBWBgkqhkiG9w0BBQ0wSTAxBgkqhkiG9w0BBQwwJAQQligVkhOTO7TY0c3C\nWOtc1AICCAAwDAYIKoZIhvcNAgkFADAUBggqhkiG9w0DBwQI1wDaKlmicMgEggTI\n2MD3eoFjSTAvJqgvTvNSMLW7GHxaO6urUDzrzYuaUM/cvoQy2sve+C8uQLEMLxqD\nHxpMdQ+XKqUVMwsFXXBWoFpcIb9DmyDIXomwjORRAaI/LGNZhLEJApkBXzUcAqM7\nmmJej3TZMclauzsCnJQ/vgufqHJrasp7ufNwJ8rjGGvY5VNkiycrUOi/z/UopIj+\nUmlYwnkscr+51BhdhhLGA+i3HwLVpjKp/IP6K30wE39CXJked1OP5DaY1UzdoB9m\nnNkfuNwwCdcyqOF+q9MgHEbH5SHBfqjHjo+jjuL5W1PA8tOLSrsJRIb1BUgIMaGo\nWzy0013Olb8skQ7dgvshaxTCmwPASBYhAuVxSXSgAoHKgKpJjyr/yV10s0OJR8vo\nEA1VmdrSEkRmx2jeOUmL7ElG0cmpaUM5BbzPBtgrfugIBG0nwufGf1b9ufr1B1z6\nxN+M+AnTnkF44PGSCas1pENhiRJmMiq6p4Dzeaq/dgebTAwlsrAMs1258CeEDBpi\nvd8dCRwmIzU3EleGteIvM2cTczP1GjEfmSz0wp0+WncijFP46JousMxIm7/MSHXI\nNKvMHMXJdWfs/54xc+lkbydnvkhWxU+GWVReDwZlaHtOPz8EgSeIrzlHVu0KsVMW\nxLBO1lIwDuwZ+hS6yvh7GTpHqL1UmdjqXPW3Ib9PQQjcn9DsCsXs3qidvXIQzaa/\nmZo7uE5FMKHcN1HCDk+tanutBby+HpYRPbcbq1IQqF3CR1UD8oTGt8yT2qwYDsGj\n7UzfoPf49Nb9FPzx4dhaEgYw0N9ptNc7Y6mFj9vsFm5QCp3WpN6Ltz5FxxwxLqV3\nQRv03jT44Ubaicy3pHcNEHIqhXYTL498IdYBy+hysBn3Sb5VF00q6fh1V6+H+w7w\nT2c30XEVj8FIYyU17hcZ/0yft8KP5ZnMQ5K/SdL4NXx7GY4ktcgv3g5/G9LuzHQH\nO63vjDq7zXIfeHZt95tJJuzN/LQULjQIfToJaVhH7oNQQJ+u51W9nTFKBMRdMpMG\nudxnd9fT7+G410+7/BqVrV06nPcieYOqNdG9OouI7omgSSyuie9TsbR9lTPHY5KH\nvxx8BWL2HJgyUtVPrp7bR6zuArAE5CHQv990kYfvQpqR/UpLwo/Ff/+YzI31uU3u\ncWagsGmXMtem6F59jGWO8YpVoYZnyM2j0KgkJOBlNJ3SJlUgiRqXTwstd0ducn99\n1GIDSWr01StsZwxgIhonFLMjAmqMkpug2aXv1LNce46TYtSwZ4hVa18dXXXdXos7\nkyOL/We1iu5IcLUi/XXIiIDetm8wvmXF4aAAGZJN0DcqHs06i6pLA9hVPcLMwlEK\n8Fj5PCMVByDsBUCCCavgp4TZ4973fag5dS1tZqmdSqemMGy4mo4Mi/Bgdwu3E+hR\nLM5QToLJMOTA0DxyagHmKQSW9A4q1vVPy1kBYS6wo3h/eOSljMAoGLceEWXlwTKP\n8N6WiyrQYr6U46rIVQyhcVn7iW/g5yOyi9zj5sIARtfRtzG6BH3P9jgWLvadpFUw\nK2WAcDPe62AT4E1Tb/DO3t8ZogPNaqLX8NjJ4e3Z2Ty/+uQ+dFjSPqqAbu8zqEkc\nZpvarvCwaNzXjx7B2NgssNEuaWKwfH0H\n-----END ENCRYPTED PRIVATE KEY-----"

# Snowflake Private Key Passphrase
SNOWFLAKE_PRIVATE_KEY_PASSPHRASE=NEWRELIC

# =============================================================================
# FIVETRAN CONFIGURATION
# =============================================================================

# Fivetran API Credentials
FIVETRAN_API_KEY=YOUR_FIVETRAN_API_KEY_HERE
FIVETRAN_API_SECRET=YOUR_FIVETRAN_API_SECRET_HERE
FIVETRAN_HOST_PORT=https://api.fivetran.com
FIVETRAN_LIMIT=1000

# Fivetran Service Configuration
FIVETRAN_SERVICE_NAME=local_fivetran
